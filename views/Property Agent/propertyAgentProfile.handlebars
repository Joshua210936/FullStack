<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="/css/agentProfile.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"/>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
    <a href="/"><img src="../images/logo.png" width="100" height="50"></a>
    <div class="header collapse navbar-collapse">
        <ul class="navbar-nav ml-auto">
            <li class="nav-item">
                <div class="dropdown" data-dropdown>
                    <button class="nav-link" data-dropdown-button>Properties &#x25BE;</button>
                    <div class="dropdown-menu information-grid">
                        <div>
                        <!-- <div class="dropdown-heading"></div> -->
                        <div class="dropdown-links">
                            <a href="/buyHouse" class="nav-link">Buying</a>
                            <a href="/sellHouse" class="nav-link">Selling</a>
                        </div>
                        </div>
                    </div>
                </div>
            </li>
            <li class="nav-item">
                <div class="dropdown" data-dropdown>
                    <button class="nav-link" data-dropdown-button>Property Agents &#x25BE;</button>
                    <div class="dropdown-menu information-grid">
                    <div>
                        <!-- <div class="dropdown-heading"></div> -->
                        <div class="dropdown-links">
                        <a href="/findAgents" class="nav-link">Find Agents</a>
                        <a href="/schedule" class="nav-link">Schedule</a>
                        <a href="/agentListProperty" class="nav-link">List Property</a>
                        </div>
                    </div>
                    </div>
                </div>
            </li>
            <li class="nav-item">
                <div class="dropdown" data-dropdown>
                    <button class="nav-link" data-dropdown-button><a href="/feedback/contactUs" class="link-button">Contact Us</a></button>
                </div>
            </li>
            <li class="nav-item">
                <button class="nav-link" data-dropdown-button><a href="/aboutUs" class="link-button">About Us </a></button>
            </li>
        </ul>
    </div>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
        <a href="/login"><button class="login-btn btn btn-light my-2 my-sm-0" data-dropdown-button>Login</button></a>
        <a href="/register"><button class="login-btn btn btn-light my-2 my-sm-0" data-dropdown-button>Sign Up</button></a>
</nav>

    <div class="container" style="margin-bottom:80px;">
        <div class="row">
            <div class="col">
                <img src="../images/{{agent.agent_image}}" height="200" width="200" style="border:1px solid;">
            </div>
            <div class="col">
                <h3>{{agent.agent_firstName}} {{agent.agent_lastName}}</h3>
                <div style="margin-bottom:30px;margin-top:30px;">
                    <img src="/images/propnex.png" height="50" width="50" style="border:1px solid;">
                </div>
                <div>
                    Agency License No. {{agent.agent_licenseNo}}
                </div>
                <div>
                    CEA Registration No. {{agent.agent_registrationNo}}
                </div>
            </div>
            <div class="col">
                <a href="mailto:{{agent.agent_email}}"><button id="cta-button">Contact</button></a>
                
    
            </div>
        </div>
    </div>

    <div class="container" style="margin-bottom:80px;">
        <h1>About Me</h1>
        <br>
        <div>
            {{agent.agent_bio}}
        </div>
    </div>

    <div class="container" style="margin-bottom:80px;">
        <h1>Active Listings:</h1>
        {{#if agent.listed_properties.length}}
            {{#each agent.listed_properties}}
            <div class="buyitem">
                <a href="/propertyDescription/{{this.Property_ID}}">
                    <div class="houseimg">
                        <img src="../images/{{this.Property_Image}}" class="buyitemimage" alt="{{this.Property_Name}}">
                    </div>
                    <div class="housedesc">
                        <h2 class="desctext">{{this.Property_Name}}</h2>
                        <p class="desctext">{{this.Property_Address}}</p>
                        <p class="desctext">S$ {{this.Property_Price}}</p>
                        <div>{{this.Property_Bedrooms}} Bedroom - {{this.Property_Bathrooms}} Bathroom - {{this.Square_Footage}} sqft - S$ {{this.Property_Price}} psf</div>
                        <div>{{this.Property_Type}} - Built: {{this.Property_YearBuilt}} - {{this.Property_Tenure}}</div>
                    </div>
                </a>
            </div>
            {{/each}}
        {{else}}
            <p>No properties listed by this agent.</p>
        {{/if}}
    </div>

    <div class="container">
        <h1>Feedback:</h1>
        {{#if agent.feedbacks.length}}
            {{#each agent.feedbacks}}
                <div class="reviewbox">
                    <div>
                        <div>
                         {{this.feedback_name}}
                        </div>
                        <div class="reviewcontent">
                            <span class="review-label">Rating:</span> <span class="review-text">{{this.feedback_rating}}/5</span>
                        </div>
                        <div class="reviewcontent">
                            <span class="review-label">Description:</span> <span class="review-text">{{this.feedback_description}}</span>
                        </div>
                        <div class="reviewcontent">
                            <span class="review-label">Date:</span> <span class="review-text">{{this.feedback_date}}</span>
                        </div>
                    </div>
                </div>
            {{/each}}
        {{else}}
            <p>No feedback available for this agent.</p>
        {{/if}}
    </div>
</body>
</html>
